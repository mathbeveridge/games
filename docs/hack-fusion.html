<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Games: Proof of the Fusion Principle</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    useLabelIds: true,
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore",
    processHtmlClass: "has_am",
  },
  chtml: {
    scale: 0.88,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext_add_on.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script xmlns:svg="http://www.w3.org/2000/svg">sagecellEvalName='Evaluate (Sage)';
</script><link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext_add_on.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/banner_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/toc_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/knowls_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/style_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/colors_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/setcolors.css" rel="stylesheet" type="text/css">
<!-- 2019-10-12: Temporary - CSS file for experiments with styling --><link xmlns:svg="http://www.w3.org/2000/svg" href="developer.css" rel="stylesheet" type="text/css">
</head>
<body class="pretext-book has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div xmlns:svg="http://www.w3.org/2000/svg" id="latex-macros" class="hidden-content" style="display:none">\(    \newcommand{\identity}{\mathrm{id}}
    \newcommand{\notdivide}{{\not{\mid}}}
    \newcommand{\notsubset}{\not\subset}
    \newcommand{\lcm}{\operatorname{lcm}}
    \newcommand{\gf}{\operatorname{GF}}
    \newcommand{\inn}{\operatorname{Inn}}
    \newcommand{\aut}{\operatorname{Aut}}
    \newcommand{\Hom}{\operatorname{Hom}}
    \newcommand{\cis}{\operatorname{cis}}
    \newcommand{\chr}{\operatorname{char}}
    \newcommand{\Null}{\operatorname{Null}}



    \definecolor{orange}{RGB}{255, 165,   0}
    \definecolor{crimson}{RGB}{220,20,60}
    \definecolor{pink}{RGB}{255,20,147}
    \definecolor{darkGreen}{RGB}{34,139,34}
    \definecolor{olive}{RGB}{128,128,0}
    \definecolor{teal}{RGB}{0,128,128}
    \definecolor{turquoise}{RGB}{64,224,208}
    \definecolor{navy}{RGB}{30, 144, 255}
    \definecolor{purple}{RGB}{128,0,128}
    \definecolor{indigo}{RGB}{216, 191, 216}
    \definecolor{maroon}{RGB}{128,0,0}
    \definecolor{gold}{RGB}{255,215,0}
    \definecolor{lemon}{RGB}{255, 250, 205}
    \definecolor{peru}{RGB}{205, 133,  63}

    \definecolor{alizarin}{rgb}{0.82, 0.1, 0.26}
    \definecolor{brightmaroon}{rgb}{0.76, 0.13, 0.28}
    \definecolor{cardinal}{rgb}{0.77, 0.12, 0.23}
    \definecolor{tuscanred}{rgb}{0.51, 0.21, 0.21}
    \definecolor{steelBlue}{rgb}{0.27, 0.51, 0.71}
    \definecolor{tyrianpurple}{rgb}{0.4, 0.01, 0.24}

    \def\Z{\mathbb Z}
    \def\R{\mathbb R}
    \def\Q{\mathbb Q}
    \def\N{\mathbb N}
    \def\C{\mathbb C}

    \def\ba{{\mathbf{a}}}
    \def\bb{\mathbf{b}}
    \def\bh{{\mathbf{h}}}
    \def\bu{{\mathbf{u}}}
    \def\bv{{\mathbf{v}}}
    \def\bw{{\mathbf{w}}}   
    \def\bx{{\mathbf{x}}}
    \def\by{\mathbf{y}}    
    \def\bone{{\mathbf{1}}}
    \def\bzero{\mathbf{0}}

    \def\var{{\mbox{var}}}
    \def\P{{\mathbb{P}}}
    \def\E{{\mathbb{E}}}

    \def\cA{{\mathcal{A}}}
    \def\cB{{\mathcal{B}}}
    \def\cC{{\mathcal{C}}}
    \def\cP{\mathcal P}
    \def\cF{{\mathcal F}}
    \def\cE{\mathcal E}
    \def\cO{\mathcal O}


   

    \def\kin{k^{\mathrm{in}}}
    \def\kout{k^{\mathrm{out}}}

    \newcommand{\indeg}[1]{k^{\mathrm{in}}_{#1}}
    \newcommand{\outdeg}[1]{k^{\mathrm{out}}_{#1}}

    \tikzset{-&gt;-/.style={decoration={
     markings,
     mark=at position .5 with {\arrow{latex}}},postaction={decorate}}}





\newcommand{\pile}[1]{\bullet{#1}}
\newcommand{\ppile}[1]{\bullet({#1})}

\newcommand{\nim}[1]{*{#1}}

\newcommand{\bc}{C}

\newcommand{\R}{{\mathbb R}}



\def\nimsum{\, \oplus \,}
\def\mex{{\mathrm{mex}}}
\def\g{g}

\newcommand{\inter}{{\mathrm{int}}}


\def\cA{{\mathcal A}}
\def\cB{{\mathcal B}}
\def\cF{{\mathcal F}}
\def\cG{{\mathcal G}}
\def\cH{{\mathcal H}}
\def\cN{{\mathcal N}}
\def\cQ{{\mathcal Q}}
\def\cP{{\mathcal P}}
\def\W{{\mathbb W}}

     



\newcommand{\nimbleboard}[1]{

\begin{scope}[shift={(.25, .4)}]
\draw (0,-.3) -- (#1,-.3) -- (#1+.45, .7) -- (#1+.45, 1);
\draw (0,0) -- (#1,0);
\draw (.45,1) -- (#1+.45,1);

\foreach \i in {0, ..., #1} {
  \draw (\i, -.3) -- (\i, 0) -- (\i+.45,1);
}

\foreach \i in {1, ..., #1} {
  \node[style={font=\sffamily\scriptsize}] at (\i - .5, -.15) {\i};
}

\end{scope}

}
\newcommand{\coin}[1]{
\begin{scope}[shift={#1}]

\draw[color=white, fill=white] (-.4, 0) -- (-.4, -.1) -- (.4,-.1) --  (.4,0) -- cycle;
\draw[thick, fill=white] (0,0) ellipse (0.4 and 0.10);
\draw[thick, fill=white] (.4,-.1) arc (0:-180:0.4 and 0.10);
\draw[thick] (0.4,0) -- (0.4, -.1);
\draw[thick] (-0.4,0) -- (-0.4, -.1);

\end{scope}

}

\newcommand{\bean}[2]{
\begin{scope}[shift={#1}, rotate={#2}]

\draw [very thick, fill=gray!50] plot [smooth cycle] coordinates {(-.2,0) (-.175, .07) (-.1,.1) (0,.075) (.1,.1) (.175, .07) (.2,0) (.15, -.07) (0,-.1) (-.15, -.07)};

\end{scope}

}

\newcommand{\heap}[2]{
\begin{scope}[shift={#1}]

\draw[very thick] (0,0) circle ({#2});

\end{scope}

}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="game.html"><span class="title">How to Be a Player:</span> <span class="subtitle">Impartial Combinatorial Games</span></a></h1>
<p class="byline">Andrew Beveridge</p>
</div>
</div></div>
<nav xmlns:svg="http://www.w3.org/2000/svg" id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="hack-green0.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="ch-hack.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="hackenbush-exercise.html" title="Next">Next</a></span></div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="hack-green0.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="ch-hack.html" title="Up">Up</a><a class="next-button button toolbar-item" href="hackenbush-exercise.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div xmlns:svg="http://www.w3.org/2000/svg" id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter"><a href="frontmatter.html" data-scroll="frontmatter"><span class="title">Front Matter</span></a></li>
<li class="link part"><a href="nim.html" data-scroll="nim"><span class="codenumber">I</span> <span class="title">The Game of Nim</span></a></li>
<li class="link">
<a href="ch-games.html" data-scroll="ch-games"><span class="codenumber">1</span> <span class="title">Combinatorical Games</span></a><ul>
<li><a href="nimble.html" data-scroll="nimble">Nimble</a></li>
<li><a href="comb-games.html" data-scroll="comb-games">Combinatorial Games</a></li>
<li><a href="game-trees.html" data-scroll="game-trees">Game Trees</a></li>
<li><a href="nimble-exercise.html" data-scroll="nimble-exercise">Exercises</a></li>
</ul>
</li>
<li class="link">
<a href="ch-nim.html" data-scroll="ch-nim"><span class="codenumber">2</span> <span class="title">Nim</span></a><ul>
<li><a href="sec-nim.html" data-scroll="sec-nim">The Game of Nim</a></li>
<li><a href="sec-binary.html" data-scroll="sec-binary">Binary Representation of Numbers</a></li>
<li><a href="sec-nim-win.html" data-scroll="sec-nim-win">Who wins at Nim?</a></li>
<li><a href="nim-bogus0.html" data-scroll="nim-bogus0">Bogus Nim Heaps</a></li>
<li><a href="nim-exercise.html" data-scroll="nim-exercise">Exercises</a></li>
</ul>
</li>
<li class="link part"><a href="games.html" data-scroll="games"><span class="codenumber">II</span> <span class="title">Impartial Games</span></a></li>
<li class="link">
<a href="ch-sg.html" data-scroll="ch-sg"><span class="codenumber">3</span> <span class="title">Sprague-Grundy Values</span></a><ul>
<li><a href="sg-mex.html" data-scroll="sg-mex">Mex</a></li>
<li><a href="sg-subtract.html" data-scroll="sg-subtract">Subtraction Games</a></li>
<li><a href="sg-nim.html" data-scroll="sg-nim">Sprague-Grundy Values for Nim</a></li>
<li><a href="sg-winner.html" data-scroll="sg-winner">Who Wins?</a></li>
<li><a href="sg-sumgames.html" data-scroll="sg-sumgames">The Sprague-Grundy Theorem</a></li>
<li><a href="sg-exercise.html" data-scroll="sg-exercise">Exercises</a></li>
</ul>
</li>
<li class="link">
<a href="ch-hack.html" data-scroll="ch-hack"><span class="codenumber">4</span> <span class="title">Green Hackenbush</span></a><ul>
<li><a href="hack-bamboo.html" data-scroll="hack-bamboo">Bamboo Stalks</a></li>
<li><a href="hack-lumberjack.html" data-scroll="hack-lumberjack">Lumberjack</a></li>
<li><a href="hack-tuft.html" data-scroll="hack-tuft">Proof of the Tuft Principle</a></li>
<li><a href="hack-green0.html" data-scroll="hack-green0">Green Hackenbush</a></li>
<li><a href="hack-fusion.html" data-scroll="hack-fusion" class="active">Proof of the Fusion Principle</a></li>
<li><a href="hackenbush-exercise.html" data-scroll="hackenbush-exercise">Exercises</a></li>
</ul>
</li>
</ul></nav><div class="extras"><nav><a class="pretext-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section xmlns:svg="http://www.w3.org/2000/svg" class="section" id="hack-fusion"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">4.5</span> <span class="title">Proof of the Fusion Principle</span>
</h2>
<p id="p-379">In this section, we prove the Fusion Principle of  <a class="xref" data-knowl="./knowl/thm-fusion.html" title="Theorem 4.4.3">Theorem 4.4.3</a>. In order to prove the Fusion Principle, we will need two intermediate results. Our first result is the <dfn class="terminology">Parity Principle</dfn>. The term <em class="emphasis">parity</em> simply means whether an integer is even or odd.</p>
<p id="p-380"><article class="theorem theorem-like" id="thm-parity"><h6 class="heading">
<span class="type">Theorem</span><span class="space"> </span><span class="codenumber">4.5.1</span><span class="period">.</span>
</h6>
<p id="p-381">The Sprague-Grundy value of any Lumberjack position has the same parity as the total number of edges.</p></article></p>
<p id="p-382"></p>
<p id="p-383"><article class="hiddenproof" id="proof-13"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-13"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-13"><article class="hiddenproof"><p id="p-384">We leave the proof for the exercises.</p></article></div></p>
<p id="p-385">Our second tool is  the  <dfn class="terminology">Colon Principle</dfn>, which is a generalization of  <a class="xref" data-knowl="./knowl/thm-tuft.html" title="Theorem 4.2.4: The Tuft Principle">Theorem 4.2.4</a>, the Tuft Principle. The Colon Principle says that if two graphs have the same value "on the ground" then they have the same value "up in the air." The Tuft Principle is a special case: it states that this is true for \(k\)-tufts.</p>
<p id="p-386"><article class="theorem theorem-like" id="thm-colon"><h6 class="heading">
<span class="type">Theorem</span><span class="space"> </span><span class="codenumber">4.5.2</span><span class="period">.</span><span class="space"> </span><span class="title">The Colon Principle.</span>
</h6>
<p id="p-387">Let \(G\) be a graph rooted at \(x\) and let \(y\) be a vertex of \(G\text{.}\) Let \(H\) and \(K\) be rooted graphs with \(\g(H) = \g(K)\text{.}\) Then</p>
<div class="displaymath">
\begin{equation*}
\g \left( [G_y : H] \right) = \g \left( [G_y : K] \right).
\end{equation*}
</div></article></p>
<p id="p-388"></p>
<p id="p-389"><article class="hiddenproof" id="proof-14"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-14"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-14"><article class="hiddenproof"><p id="p-390">The proof of the Colon Principle is very similar to the proof of the Tuft Principle (and the Loop Principle,  <a class="xref" data-knowl="./knowl/lemma-loop.html" title="Lemma 4.4.2">Lemma 4.4.2</a>). Therefore, we leave this proof as an exercise.</p></article></div></p>
<p id="p-391">With the Colon Principle in hand, we are ready to prove the Fusion Principle. For convenience, we state the fusion theorem again:</p>
<blockquote class="blockquote" id="blockquote-3"><p id="p-392">Let \(G\) be a position in a game of Green Hackenbush. Let \(H\) be the position obtained by fusing together some (or all) of the vertices in a cycle of length \(k \geq 2\) in \(G\text{.}\) Then \(\g(G)=\g(H)\text{.}\)</p></blockquote>
<p id="p-393"></p>
<p id="p-394"><article class="hiddenproof" id="proof-15"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-15"><h6 class="heading"><span class="title">Proof of Theorem 4.4.3.</span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-15"><article class="hiddenproof"><p id="p-395">The proof of  <a class="xref" data-knowl="./knowl/thm-fusion.html" title="Theorem 4.4.3">Theorem 4.4.3</a> is a <em class="emphasis">tour de force</em> of combinatorial game theory. It pulls together all the great themes we have seen up to now. It also requires some new and insightful tools of its own. The overall theme of the proof is a methodical proof by contradiction.  In particular, we slowly  characterize the structure of a smallest counterexample (also known as a "minimal criminal") and show that no such graph exists.</p>
<p id="p-396">This sophisticated proof is beyond the level of an introductory textbook. Therefore, we break the proof into two pieces. We lay out the flow of the proof via a series of claims (and then prove these claims later on). This way you can appreciate the overall argument, without getting lost in the details.</p>
<p id="p-397">The proof methodically places constraints on the structure of the minimal criminal. Eventually, we show that all of these constraints lead to a position that <em class="emphasis">does</em> obey the Fusion Principle. Therefore, there is no minimal criminal, which means that every graph obeys the Fusion Principle.</p>
<p id="p-398">The Fusion Principle says that we can fuse together some (or all) the vertices in a cycle without changing the Sprague-Grundy value. Let \(\mathcal{A}\) be the set of all counterexamples to the Fusion Principle.  Assume for the sake of contradiction that the Fusion Principle is false. This means that \(\mathcal{A} \neq 0\text{.}\) Each graph in \(\mathcal{A}\) contains a particular cycle \(C\) such that if you fuse this cycle, the Sprague-Grundy value changes.</p>
<p id="p-399">We will restrict ourselves to the subset \(\mathcal{B} \subset \mathcal{A}\) of  <em class="emphasis">minimal counterexamples</em> of the Fusion Principle. In other words, if we fuse <em class="emphasis">any</em> cycle in \(G \in \mathcal{B}\text{,}\) then the Sprague-Grundy value changes. Finally, we choose a graph \(G \in \mathcal{B}\) of smallest size: we choose \(G\) so that   the sum of the number of vertices and edges in \(G\) achieves the smallest such value among graphs in \(\mathcal{B}\text{:}\)</p>
<div class="displaymath">
\begin{equation*}
|V(G)| + |E(G)| = \min_{H \in \mathcal{B}} \big( |V(H)| + |E(H)| \big).
\end{equation*}
</div>
<p class="continuation">Choosing this "minimal criminal" \(G\) will be crucial in our proof. Let \(n=|V(G)|\) and \(m=|E(G)|\text{.}\) We prove the following statements, in order.</p>
<ol id="p-400" class="decimal">
<li id="li-90"><p id="p-401"><em class="emphasis">Claim 1:</em> \(G\) has a unique root vertex.</p></li>
<li id="li-91"><p id="p-402"><em class="emphasis">Claim 2:</em> \(G\) does not contain any vertices \(x,y\) connected by 3 (or more) edge-disjoint paths.</p></li>
<li id="li-92"><p id="p-403"><em class="emphasis">Claim 3:</em> Every cycle of \(G\) must include the unique root vertex.</p></li>
<li id="li-93"><p id="p-404"><em class="emphasis">Claim 4:</em> \(G\) contains exactly one cycle through the root vertex.</p></li>
<li id="li-94"><p id="p-405"><em class="emphasis">Claim 5:</em> \(G\) must look like the graph shown in  <a class="xref" data-knowl="./knowl/fig-minimal.html" title="Figure 4.5.3">Figure 4.5.3</a>. This graph consists of a single cycle that includes the ground, along with a number of paths branching off of this cycle.</p></li>
<li id="li-95"><p id="p-406"><em class="emphasis">Claim 6:</em> All graphs of the type shown in  <a class="xref" data-knowl="./knowl/fig-minimal.html" title="Figure 4.5.3">Figure 4.5.3</a> obey the Fusion Principle!</p></li>
</ol>
<p class="continuation"><figure class="figure figure-like" id="fig-minimal"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="images/minimal-criminal2.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">4.5.3<span class="period">.</span></span><span class="space"> </span>The minimal criminal that does not obey the Fusion Principle must look like this graph. But  graphs of this type  <em class="emphasis">do obey</em>  the Fusion Principle! So there are no counterexamples.</figcaption></figure></p>
<p id="p-407">Of course, Claim 6 brings us to our contradiction: our (supposed) minimal criminal actually obeys the Fusion Principle. This means that the minimal criminal does not exist, so the set \(\mathcal{A}\) of counterexamples is empty. Therefore the Fusion Principle holds for all graphs.</p></article></div></p>
<p id="p-408">We now prove each of the six claims. We encourage you to work your way through the proofs of the first five claims. The sixth claim is proven in two parts. When our cycle has even length, the argument is straight forward. When the cycle has odd length, we need a very technical argument, so we only provide a sketch of this part of the proof.</p>
<p id="p-409"><article class="claim theorem-like" id="claim-1"><h6 class="heading">
<span class="type">Claim</span><span class="space"> </span><span class="codenumber">4.5.4</span><span class="period">.</span>
</h6>
<em class="emphasis">(Claim 1)</em>.  \(G\) has a unique root vertex.</article></p>
<p id="p-410"><article class="hiddenproof" id="proof-16"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-16"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-16"><article class="hiddenproof"><p id="p-411">If \(G\) had multiple vertices at the ground level, we could join them together to get a single vertex without changing the Sprague-Grundy value. This reduces the total number of vertices and edges. Since \(G\) is the minimal criminal, there can only be one root vertex at ground level. \(\quad \Box\)</p></article></div></p>
<p id="p-412"><article class="claim theorem-like" id="claim-2"><h6 class="heading">
<span class="type">Claim</span><span class="space"> </span><span class="codenumber">4.5.5</span><span class="period">.</span>
</h6>
<em class="emphasis">(Claim 2)</em>. \(G\) does not contain any vertices \(x,y\) connected by 3 (or more) edge-disjoint paths.</article></p>
<p id="p-413"><article class="hiddenproof" id="proof-17"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-17"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-17"><article class="hiddenproof"><p id="p-414">Assume for the sake of contradiction that \(G\) contains vertices \(x,y\) connected by 3 edge-disjoint paths. Let \(H\) be the graph obtained by merging the vertices \(x\) and \(y\) into a  single vertex \(z\text{.}\) We must have \(g(H) \neq g(G)\) because \(G\) is the minimal criminal. Therefore the sum of games \(G \oplus H\) is an \(\cN\)-position.</p>
<p id="p-415">Since \(G \oplus H\) is an \(\cN\)-position, Left must have a winning move. When Left hacks an edge in \(G\) (or \(H\)), Right responds by hacking the corresponding edge in \(H\) (or \(G\)). Call the resulting graphs \(G'\) and \(H'\text{.}\) Both graphs have \(m-1\) edges, so the fusion principle applies to each of them. The vertices \(x,y\) are still in a cycle in \(G'\) since we can only destroy one of the three edge-disjoint paths between them. So we can fuse \(x\) and \(y\) without changing the Sprague-Grundy value of \(G'\text{.}\) This fusion results in the graph \(H'\text{,}\) so</p>
<div class="displaymath">
\begin{equation*}
\g(G' \oplus H') = \g(G') \oplus \g(H') = \g(H') \oplus \g(H') = 0.
\end{equation*}
</div>
<p class="continuation">In other words, \(G' \oplus H'\) is a \(\cP\)-position. No matter what move Left make, Right can make a counter-move to put the game in a \(\cP\)-position. This contradicts the fact that \(G \oplus H\) is an \(\cN\)-position. Therefore, no vertices \(x,y\) can be connected by 3 edge-disjoint paths. \(\quad \Box\)</p></article></div></p>
<p id="p-416"><article class="claim theorem-like" id="claim-3"><h6 class="heading">
<span class="type">Claim</span><span class="space"> </span><span class="codenumber">4.5.6</span><span class="period">.</span>
</h6>
<em class="emphasis">(Claim 3)</em>. Every cycle of \(G\) must include the unique root vertex.</article></p>
<p id="p-417"><article class="hiddenproof" id="proof-18"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-18"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-18"><article class="hiddenproof"><p id="p-418">Assume for the sake of contradiction that \(G\) contains a cycle \(C\) that does not include the unique root vertex \(x\text{.}\)</p>
<p id="p-419">Let \(P_1\) be a path from \(x\) to \(y \in V(C)\) that does not contain any other vertex of \(C\text{.}\) We claim that <em class="emphasis">every</em> path from \(x\) to \(C\) goes through \(y\text{.}\) Suppose this is not the case.  Let \(P_2\) be a path from \(x\) to another vertex \(z \in V(C)\) that does not contain any other vertex of \(C\text{.}\) The walk \(P_1 \cup P_2\) contains a \((y,z)\) path that is edge disjoint from the cycle \(C\text{.}\) Meanwhile, the cycle \(C\) contains two more edge disjoint \((y,z)\) paths (by traversing \(C\) from \(y\) to \(z\) clockwise and counterclockwise, respectively). This contradicts Claim 2. So every path from \(x\) to \(C\) goes through a single vertex \(y\text{.}\) The vertex \(y\) is called a <dfn class="terminology">cutpoint</dfn> since its removal disconnects the graph.</p>
<p id="p-420"><figure class="figure figure-like" id="fig-claim3"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="images/fig-img-claim3.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">4.5.7<span class="period">.</span></span><span class="space"> </span>Splitting the graph \(G\) into subgraphs \(H\) and \(K\) at the cutpoint \(y\text{.}\)</figcaption></figure></p>
<p id="p-421">We can now split the graph \(G\) into two subgraphs \(H, K\) at vertex \(y\text{,}\) as shown in  <a class="xref" data-knowl="./knowl/fig-claim3.html" title="Figure 4.5.7">Figure 4.5.7</a>. The subgraph \(K\) contains the cycle \(C\text{,}\) and \(K\) contains strictly fewer vertices than \(G\text{.}\) Therefore, the fusion principle applies to \(K\text{.}\) Let \(K'\) be the graph obtained by fusing all of the vertices of \(C\) into one vertex. We have \(\g(K) = \g(K')\) and therefore</p>
<div class="displaymath">
\begin{equation*}
\g(G) = \g\left([H_y : K] \right) = \g \left([H_y : K'] \right)
\end{equation*}
</div>
<p class="continuation">by the Colon Principle,  <a class="xref" data-knowl="./knowl/thm-colon.html" title="Theorem 4.5.2: The Colon Principle">Theorem 4.5.2</a>. The resulting graph \([H_y : K']\) has fewer vertices than \(G\text{,}\) so the Fusion Principle applies to \([H_y : K']\text{.}\) But this means that the Fusion Principle also applies to \(G\text{,}\) a contradiction. Therefore, every cycle in our minimal criminal \(G\) must go through the root vertex \(x\text{.}\) \(\Box\)</p></article></div></p>
<p id="p-422"><article class="claim theorem-like" id="claim-4"><h6 class="heading">
<span class="type">Claim</span><span class="space"> </span><span class="codenumber">4.5.8</span><span class="period">.</span>
</h6>
<em class="emphasis">(Claim 4)</em>.  \(G\) contains exactly one cycle through the root vertex.</article></p>
<p id="p-423"><article class="hiddenproof" id="proof-19"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-19"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-19"><article class="hiddenproof"><p id="p-424">Let \(C\) be a cycle through the root vertex \(x\text{.}\) Let \(y \in V(C)\text{.}\) By Claim 2, there are exactly two  paths from \(y\) to \(x\text{:}\)  the clockwise and counterclockwise paths along the cycle \(C\text{.}\) Suppose that \(G\) contained another cycle \(C'\) through the root vertex \(x\text{.}\) The cycles \(C\) and \(C'\) cannot intersect at any other points. Indeed, if \(x \neq z \in V(C) \cap V(C')\) then there would be three edge-disjoint paths between \(x\) and \(z\text{,}\) contradicting Claim 2. Furthermore, any path between \(C\) and \(C'\) must go through \(x\) for the same reason. Therefore, we can view \(G\) as the sum of two smaller graphs. The fusion principle would apply to each of these smaller graphs, a contradiction. Therefore, \(G\) contains exactly one vertex through the root vertex.  \(\quad \Box\)</p></article></div></p>
<p id="p-425"><article class="claim theorem-like" id="claim-5"><h6 class="heading">
<span class="type">Claim</span><span class="space"> </span><span class="codenumber">4.5.9</span><span class="period">.</span>
</h6>
<em class="emphasis">(Claim 5)</em>. \(G\) must look like the graph shown in  <a class="xref" data-knowl="./knowl/fig-minimal.html" title="Figure 4.5.3">Figure 4.5.3</a>.</article></p>
<p id="p-426"><article class="hiddenproof" id="proof-20"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-20"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-20"><article class="hiddenproof"><p id="p-427">This graph consists of a single cycle that includes the ground, along with a number of paths branching off of this cycle. Putting our first four claims together, we see that \(G\) must consist of a cycle through the root vertex, along with trees branching off of the vertices of this cycle. We can repeatedly use the Colon Principle,  <a class="xref" data-knowl="./knowl/thm-colon.html" title="Theorem 4.5.2: The Colon Principle">Theorem 4.5.2</a>,  to turn each of these trees into a path: such replacement cannot increase the number of vertices or edges (and it might actually reduce these numbers).   \(\Box\)</p></article></div></p>
<p id="p-428"><article class="claim theorem-like" id="claim-6"><h6 class="heading">
<span class="type">Claim</span><span class="space"> </span><span class="codenumber">4.5.10</span><span class="period">.</span>
</h6>
<em class="emphasis">(Claim 6)</em>. All graphs of the type shown in  <a class="xref" data-knowl="./knowl/fig-minimal.html" title="Figure 4.5.3">Figure 4.5.3</a> obey the Fusion Principle.</article></p>
<p id="p-429"><article class="hiddenproof" id="proof-21"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-21"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-21"><article class="hiddenproof"><p id="p-430">We think of this graph as a cycle \(C\) along with a set of dangling paths, which we call <dfn class="terminology">strings</dfn>. Assume for the sake of contradiction that such a graph does not obey the Fusion Principle. In other words: fusing the cycle \(C\) changes the Sprague-Grundy value. There are two cases, depending on the parity of the cycle length. Let the strings of \(G\) have lengths \(n_1, n_2, \ldots, n_k\text{.}\)</p>
<p id="p-431"><figure class="figure figure-like" id="fig-fusion-even"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="images/criminal-even.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">4.5.11<span class="period">.</span></span><span class="space"> </span>A minimal criminal with an even cycle, along with copies of its strings.</figcaption></figure></p>
<p id="p-432">Suppose that \(C\) contains an even number of edges. Consider the sum of games consisting of \(G\) along with a copy of all of the strings, as shown in  <a class="xref" data-knowl="./knowl/fig-fusion-even.html" title="Figure 4.5.11">Figure 4.5.11</a>. We prove that Right has a winning strategy from this position (so it is a \(\cP\)-position). If Left hacks a path edge, Right responds by hacking the analogous edge in the other graph. Left must be the first player to hack an edge in the cycle. This creates a Lumberjack position with an odd number of edges. This position has an odd (and hence nonzero) Sprague-Grundy value by the Parity Principle, <a class="xref" data-knowl="./knowl/thm-parity.html" title="Theorem 4.5.1">Theorem 4.5.1</a>. So Right has a winning strategy from this point forward.</p>
<p id="p-433">The above argument shows that the position in  <a class="xref" data-knowl="./knowl/fig-fusion-even.html" title="Figure 4.5.11">Figure 4.5.11</a> is a \(\cP\)-position with Sprague-Grundy value 0. Therefore the Sprague-Grundy value of \(G\) equals</p>
<div class="displaymath">
\begin{equation*}
n_1 \oplus n_2 \oplus \cdots \oplus n_k.
\end{equation*}
</div>
<p class="continuation">But this means that the Fusion Principle holds for \(G\text{:}\) fusing the cycle \(C\) results in an even number of loops at ground level. These loops cancel one another out, so the Sprague-Grundy value is just the nim sum of the lengths of the strings. In summary, \(G\) is not our minimal criminal.</p>
<p id="p-434"><figure class="figure figure-like" id="fig-fusion-odd"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="images/criminal-odd.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">4.5.12<span class="period">.</span></span><span class="space"> </span>A minimal criminal with an odd cycle, along with copies of its strings, and an extra path of length 1. This green hackenbush position has Sprague-Grundy value 0.</figcaption></figure></p>
<p id="p-435">Finally, we rule out the last suspected minimal criminal. This argument gets quite technical, and requires some new ingenuity. Therefore, we only sketch the final steps of this proof. Suppose that \(C\) contains an odd number of edges.  This time, we need a more intricate argument. As in the previous case, we consider position \(H\)  consisting of \(G\) and copies of each of the strings the cycle of \(G\text{,}\) as shown in  <a class="xref" data-knowl="./knowl/fig-fusion-odd.html" title="Figure 4.5.12">Figure 4.5.12</a>. If we can show that \(g(H)=1\text{,}\) then this means that the Fusion Principle holds for \(G\text{,}\) since fusing the cycle creates an odd number of paths of height 1.</p>
<p id="p-436">We will prove that \(g(H)=1\) by showing that</p>
<ol class="decimal">
<li id="li-96"><p id="p-derived-li-96">No follower of this position has value 1.</p></li>
<li id="li-97"><p id="p-derived-li-97">There is a follower of value 0</p></li>
</ol>
<p class="continuation">The first statement is straight forward to prove. Hacking the cycle leads to a Lumberjack position with an even number of edges. By the Parity Principle, the Sprague-Grundy value of this position is even, so clearly it cannot be equal to 1. If Left hacks a path edge to obtain position \(G'\text{,}\) then Right responds by hacking the analogous path edge in the other part of the graph to obtain \(G"\text{.}\) The graph \(G"\) has fewer edges than \(G\text{,}\) so the Fusion Principle applies to \(G"\) and its Sprague-Grundy value is 1. This means that \(\g(G') \neq 1\) since its follower \(G"\) has \(\g(G")=1\text{.}\)</p>
<p id="p-437">Proving that \(G\) has a follower with value 0 is more challenging. It turns out that there is an edge we can hack in the cycle to reach a follower with value 0. We describe how to find such an edge.</p>
<p id="p-438">Starting clockwise from the root vertex, label each edge with \(\alpha\) or \(\beta\text{,}\) giving adjacent edges the <em class="emphasis">same</em> label if there is an <em class="emphasis">odd</em> length string between them, and <em class="emphasis">different</em> labels if there is an <em class="emphasis">even</em> length string. There are an odd number of edges in \(C\text{,}\) so one label occurs an odd number of times, and the other label occurs an even number of times. For simplicity, we assume that label \(\alpha\) appears an even number of times and that label \(\beta\) appears an odd number of times. It turns out that there exists  a \(\beta\)-edge such that hacking this edge results in a position with value 0.</p>
<p id="p-439">To find this good \(\beta\)-edge, we reduce the graph by picking any edge \(e\) labeled by \(\alpha\) and shrinking it to a single vertex. We replace the two strings from the endpoints of \(e\) by a single string whose length is their nim sum.  Next, we halve all of the string lengths of this component (rounding down if this length is odd). Call this resulting graph \(G'\text{.}\) It can be shown that \(\g(G') = \frac{1}{2} \g(G)\text{.}\)</p>
<p id="p-440">Repeat this process on the graph \(G'\text{:}\) label the edges by \(\alpha'\) and \(\beta'\text{,}\) then contract an edge from the even-sized set of labeled edges and half the sizes of the strings. Continue this process (creating \(G", G"'\text{,}\) etc) until one of the sets of labeled edges contains exactly one edge \(f\) (this must happen eventually). This edge \(f\) is the one that we are looking for: removing the edge \(f\) from the original position results in a composite position with value 0. \(\Box\)</p></article></div></p>
<p id="p-441">This brings us to the end of our series of claims. With these details filled in, our proof of the Fusion Principle is complete.</p>
<p id="p-442">This also means that we've solved Green Hackenbush! We can calculate the Sprague-Grundy value of any Green Hackenbush position, and find a winning move when the Sprague-Grundy value is nonzero.</p></section></div></main>
</div>
</body>
</html>
