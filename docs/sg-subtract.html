<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Games: Subtraction Games</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    useLabelIds: true,
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore",
    processHtmlClass: "has_am",
  },
  chtml: {
    scale: 0.88,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext_add_on.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script xmlns:svg="http://www.w3.org/2000/svg">sagecellEvalName='Evaluate (Sage)';
</script><link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext_add_on.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/banner_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/toc_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/knowls_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/style_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/colors_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/setcolors.css" rel="stylesheet" type="text/css">
<!-- 2019-10-12: Temporary - CSS file for experiments with styling --><link xmlns:svg="http://www.w3.org/2000/svg" href="developer.css" rel="stylesheet" type="text/css">
</head>
<body class="pretext-book has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div xmlns:svg="http://www.w3.org/2000/svg" id="latex-macros" class="hidden-content" style="display:none">\(    \newcommand{\identity}{\mathrm{id}}
    \newcommand{\notdivide}{{\not{\mid}}}
    \newcommand{\notsubset}{\not\subset}
    \newcommand{\lcm}{\operatorname{lcm}}
    \newcommand{\gf}{\operatorname{GF}}
    \newcommand{\inn}{\operatorname{Inn}}
    \newcommand{\aut}{\operatorname{Aut}}
    \newcommand{\Hom}{\operatorname{Hom}}
    \newcommand{\cis}{\operatorname{cis}}
    \newcommand{\chr}{\operatorname{char}}
    \newcommand{\Null}{\operatorname{Null}}



    \definecolor{orange}{RGB}{255, 165,   0}
    \definecolor{crimson}{RGB}{220,20,60}
    \definecolor{pink}{RGB}{255,20,147}
    \definecolor{darkGreen}{RGB}{34,139,34}
    \definecolor{olive}{RGB}{128,128,0}
    \definecolor{teal}{RGB}{0,128,128}
    \definecolor{turquoise}{RGB}{64,224,208}
    \definecolor{navy}{RGB}{30, 144, 255}
    \definecolor{purple}{RGB}{128,0,128}
    \definecolor{indigo}{RGB}{216, 191, 216}
    \definecolor{maroon}{RGB}{128,0,0}
    \definecolor{gold}{RGB}{255,215,0}
    \definecolor{lemon}{RGB}{255, 250, 205}
    \definecolor{peru}{RGB}{205, 133,  63}

    \definecolor{alizarin}{rgb}{0.82, 0.1, 0.26}
    \definecolor{brightmaroon}{rgb}{0.76, 0.13, 0.28}
    \definecolor{cardinal}{rgb}{0.77, 0.12, 0.23}
    \definecolor{tuscanred}{rgb}{0.51, 0.21, 0.21}
    \definecolor{steelBlue}{rgb}{0.27, 0.51, 0.71}
    \definecolor{tyrianpurple}{rgb}{0.4, 0.01, 0.24}

    \def\Z{\mathbb Z}
    \def\R{\mathbb R}
    \def\Q{\mathbb Q}
    \def\N{\mathbb N}
    \def\C{\mathbb C}

    \def\ba{{\mathbf{a}}}
    \def\bb{\mathbf{b}}
    \def\bh{{\mathbf{h}}}
    \def\bu{{\mathbf{u}}}
    \def\bv{{\mathbf{v}}}
    \def\bw{{\mathbf{w}}}   
    \def\bx{{\mathbf{x}}}
    \def\by{\mathbf{y}}    
    \def\bone{{\mathbf{1}}}
    \def\bzero{\mathbf{0}}

    \def\var{{\mbox{var}}}
    \def\P{{\mathbb{P}}}
    \def\E{{\mathbb{E}}}

    \def\cA{{\mathcal{A}}}
    \def\cB{{\mathcal{B}}}
    \def\cC{{\mathcal{C}}}
    \def\cP{\mathcal P}
    \def\cE{\mathcal E}
    \def\cO{\mathcal O}


   

    \def\kin{k^{\mathrm{in}}}
    \def\kout{k^{\mathrm{out}}}

    \newcommand{\indeg}[1]{k^{\mathrm{in}}_{#1}}
    \newcommand{\outdeg}[1]{k^{\mathrm{out}}_{#1}}

    \tikzset{-&gt;-/.style={decoration={
     markings,
     mark=at position .5 with {\arrow{latex}}},postaction={decorate}}}





\newcommand{\pile}[1]{\bullet{#1}}
\newcommand{\ppile}[1]{\bullet({#1})}

\newcommand{\nim}[1]{*{#1}}

\newcommand{\bc}{C}

\newcommand{\R}{{\mathbb R}}



\def\nimsum{\, \oplus \,}
\def\mex{{\mathrm{mex}}}
\def\g{g}

\newcommand{\inter}{{\mathrm{int}}}


\def\cA{{\mathcal A}}
\def\cB{{\mathcal B}}
\def\cF{{\mathcal F}}
\def\cG{{\mathcal G}}
\def\cH{{\mathcal H}}
\def\cN{{\mathcal N}}
\def\cQ{{\mathcal Q}}
\def\cP{{\mathcal P}}
\def\W{{\mathbb W}}

     



\newcommand{\nimbleboard}[1]{

\begin{scope}[shift={(.25, .4)}]
\draw (0,-.3) -- (#1,-.3) -- (#1+.45, .7) -- (#1+.45, 1);
\draw (0,0) -- (#1,0);
\draw (.45,1) -- (#1+.45,1);

\foreach \i in {0, ..., #1} {
  \draw (\i, -.3) -- (\i, 0) -- (\i+.45,1);
}

\foreach \i in {1, ..., #1} {
  \node[style={font=\sffamily\scriptsize}] at (\i - .5, -.15) {\i};
}

\end{scope}

}
\newcommand{\coin}[1]{
\begin{scope}[shift={#1}]

\draw[color=white, fill=white] (-.4, 0) -- (-.4, -.1) -- (.4,-.1) --  (.4,0) -- cycle;
\draw[thick, fill=white] (0,0) ellipse (0.4 and 0.10);
\draw[thick, fill=white] (.4,-.1) arc (0:-180:0.4 and 0.10);
\draw[thick] (0.4,0) -- (0.4, -.1);
\draw[thick] (-0.4,0) -- (-0.4, -.1);

\end{scope}

}

\newcommand{\bean}[2]{
\begin{scope}[shift={#1}, rotate={#2}]

\draw [very thick, fill=gray!50] plot [smooth cycle] coordinates {(-.2,0) (-.175, .07) (-.1,.1) (0,.075) (.1,.1) (.175, .07) (.2,0) (.15, -.07) (0,-.1) (-.15, -.07)};

\end{scope}

}

\newcommand{\heap}[2]{
\begin{scope}[shift={#1}]

\draw[very thick] (0,0) circle ({#2});

\end{scope}

}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="game.html"><span class="title">How to Be a Player:</span> <span class="subtitle">Impartial Combinatorial Games</span></a></h1>
<p class="byline">Andrew Beveridge</p>
</div>
</div></div>
<nav xmlns:svg="http://www.w3.org/2000/svg" id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="sg-mex.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="ch-sg.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="sg-nim.html" title="Next">Next</a></span></div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="sg-mex.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="ch-sg.html" title="Up">Up</a><a class="next-button button toolbar-item" href="sg-nim.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div xmlns:svg="http://www.w3.org/2000/svg" id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter"><a href="frontmatter.html" data-scroll="frontmatter"><span class="title">Front Matter</span></a></li>
<li class="link part"><a href="nim.html" data-scroll="nim"><span class="codenumber">I</span> <span class="title">The Game of Nim</span></a></li>
<li class="link">
<a href="ch-games.html" data-scroll="ch-games"><span class="codenumber">1</span> <span class="title">Combinatorical Games</span></a><ul>
<li><a href="nimble.html" data-scroll="nimble">Nimble</a></li>
<li><a href="comb-games.html" data-scroll="comb-games">Combinatorial Games</a></li>
<li><a href="game-trees.html" data-scroll="game-trees">Game Trees</a></li>
<li><a href="nimble-exercise.html" data-scroll="nimble-exercise">Exercises</a></li>
</ul>
</li>
<li class="link">
<a href="ch-nim.html" data-scroll="ch-nim"><span class="codenumber">2</span> <span class="title">Nim</span></a><ul>
<li><a href="sec-nim.html" data-scroll="sec-nim">The Game of Nim</a></li>
<li><a href="sec-binary.html" data-scroll="sec-binary">Binary Representation of Numbers</a></li>
<li><a href="sec-nim-win.html" data-scroll="sec-nim-win">Who wins at Nim?</a></li>
<li><a href="nim-bogus0.html" data-scroll="nim-bogus0">Bogus Nim Heaps</a></li>
<li><a href="nim-exercise.html" data-scroll="nim-exercise">Exercises</a></li>
</ul>
</li>
<li class="link part"><a href="games.html" data-scroll="games"><span class="codenumber">II</span> <span class="title">Impartial Games</span></a></li>
<li class="link">
<a href="ch-sg.html" data-scroll="ch-sg"><span class="codenumber">3</span> <span class="title">Sprague-Grundy Values</span></a><ul>
<li><a href="sg-mex.html" data-scroll="sg-mex">Mex</a></li>
<li><a href="sg-subtract.html" data-scroll="sg-subtract" class="active">Subtraction Games</a></li>
<li><a href="sg-nim.html" data-scroll="sg-nim">Sprague-Grundy Values for Nim</a></li>
<li><a href="sg-winner.html" data-scroll="sg-winner">Who Wins?</a></li>
<li><a href="sg-sumgames.html" data-scroll="sg-sumgames">The Sprague-Grundy Theorem</a></li>
<li><a href="nim-exercise.html" data-scroll="nim-exercise">Exercises</a></li>
</ul>
</li>
<li class="link">
<a href="ch-hack.html" data-scroll="ch-hack"><span class="codenumber">4</span> <span class="title">Green Hackenbush</span></a><ul>
<li><a href="hack-bamboo.html" data-scroll="hack-bamboo">Bamboo Stalks</a></li>
<li><a href="hack-lumberjack.html" data-scroll="hack-lumberjack">Lumberjack</a></li>
<li><a href="hack-tuft.html" data-scroll="hack-tuft">Proof of the Tuft Principle</a></li>
<li><a href="hack-green0.html" data-scroll="hack-green0">Green Hackenbush</a></li>
<li><a href="hack-fusion.html" data-scroll="hack-fusion">Proof of the Fusion Principle</a></li>
<li><a href="hackenbush-exercise.html" data-scroll="hackenbush-exercise">Exercises</a></li>
</ul>
</li>
</ul></nav><div class="extras"><nav><a class="pretext-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section xmlns:svg="http://www.w3.org/2000/svg" class="section" id="sg-subtract"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">3.2</span> <span class="title">Subtraction Games</span>
</h2>
<p id="p-215">Let's calculate some examples of Sprague-Grundy values for some simple games. We'll get to Nim soon enough, but for now we explore a class of games called <dfn class="terminology">Subtraction Games</dfn>. Our first game is named \(S(1,2,3)\text{.}\) The game plays like Nim, except you are only allowed to take 1, 2 or 3 beans from a heap.</p>
<article class="exploration project-like" id="exploration-5"><h6 class="heading">
<span class="type">Exploration</span><span class="space"> </span><span class="codenumber">3.2.1</span><span class="period">.</span>
</h6>
<p id="p-216"> Play a few games of single heap \(S(1,2,3)\text{.}\) Start small, with heap sizes \(n=1,2,3,4,5,6\text{,}\) etc. Keep playing until you figure out the winning strategy, as well as characterizing the \(\cN\)-positions and \(\cP\)-positions.</p></article><p id="p-217">Now that you have mastered one-heap \(S(1,2,3)\text{,}\) let's calculate its Sprague-Grundy values. Just as with Nim, it is helpful to use a notation that distinguishes heaps from numbers. The starred symbol \(*n\) is reserved exclusively for a nim heap of size \(n\) (where we are allowed to remove any number of beans). For Subtraction (and other various take-away games), we will use the "bullet" notation \(\pile{n}\) to denote a heap of size \(n\) in a subtraction game. We have</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{rcl}
g \left(\pile{0} \right) &amp;=&amp; \mex \{ \} =0, \\
g \left(\pile{1} \right) &amp;=&amp; \mex \{ g(\pile{0}) \} = \mex \{ 0 \} = 1, \\
g \left(\pile{2} \right) &amp;=&amp; \mex \{ g(\pile{0}), g(\pile{1})  \} = \mex \{ 0,1 \} = 2, \\
g \left(\pile{3} \right) &amp;=&amp; \mex \{ g(\pile{0}), g(\pile{1}), g(\pile{2})  \} = \mex \{ 0,1,2 \} = 3,  \\
g \left(\pile{4} \right) &amp;=&amp; \mex \{  g(\pile{1}), g(\pile{2}), g(\pile{3})  \} = \mex \{ 1,2,3 \} = 0.
\end{array}
\end{equation*}
</div>
<p class="continuation">We see that the Sprague-Grundy value equals the size of the heap until we reach \(n=4\text{.}\) At this point, we can only remove 1, 2 or 3 beans. Therefore position \(\pile{0}\) is not among the followers of position \(\pile{4}\text{.}\) If we continue this way, we get the Sprague-Grundy values shown here:</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{c|c|c|c|c|c|c|c|c|c|c|c|c|c|c}
n &amp; 0 &amp; 1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; 6 &amp; 7 &amp; 8 &amp; 9 &amp; 10 &amp; 11 &amp; 12 &amp; 13 \\
\hline
\g(\pile{n}) &amp; 0 &amp; 1 &amp; 2 &amp; 3 &amp; 0 &amp; 1 &amp; 2 &amp; 3 &amp; 0 &amp; 1 &amp; 2 &amp; 3 &amp; 0 &amp; 1
\end{array}
\end{equation*}
</div>
<p class="continuation">What is the relationship  between these values and the \(\cN\)-positions and \(\cP\)-positions of \(S(1,2,3)\) that you found by playing the game? Are you willing to make any conjectures at this point?</p>
<p id="p-218">Let's try another game of Subtraction, using a different subtraction set. Given a set \(A \in \W\text{,}\) the Subtraction game \(S(A)\) is played as you would expect: make Nim moves, but  restricted to  numbers that appear in the  subtraction set \(A\text{.}\) Here are the Sprague-Grundy values for \(S(2,3)\text{:}\)</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{c|c|c|c|c|c|c|c|c|c|c|c|c|c|c}
n &amp; 0 &amp; 1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; 6 &amp; 7 &amp; 8 &amp; 9 &amp; 10 &amp; 11 &amp; 12 &amp; 13 \\
\hline
\g(\pile{n}) &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; 2 &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; 2 &amp; 0 &amp; 0 &amp; 1 &amp; 1
\end{array}
\end{equation*}
</div>
<p class="continuation">Without playing \(S(2,3)\text{,}\) can you guess whether \(\pile{10}\) is an \(\cN\)-position~or a \(\cP\)-position? How about \(\pile{9}\text{?}\)</p>
<article class="exploration project-like" id="exploration-6"><h6 class="heading">
<span class="type">Exploration</span><span class="space"> </span><span class="codenumber">3.2.2</span><span class="period">.</span>
</h6>
<p id="p-219"> Find the Sprague-Grundy values for a few more subtraction games \(S(s_1,s_2, \ldots, s_k)\text{.}\) Experiment with different sizes of subtraction sets, different values, and different relationships between these values. Be creative!</p></article><p id="p-220">Here are the Sprague-Grundy values for a more complicated game: \(S(2,5,7)\text{.}\)</p>
<div class="displaymath">
\begin{equation*}
{\small
\begin{array}{c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c}
n &amp; 0 &amp; 1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; 6 &amp; 7 &amp; 8 &amp; 9 &amp; 10 &amp; 11 &amp; 12 &amp; 13 &amp; 14 &amp; 15 &amp; 16 &amp; 17 &amp; 18 &amp; 19 &amp; 20 &amp; 21\\
\hline
\g(\pile{n}) &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; 0 &amp; 2 &amp; 1 &amp; 3 &amp; 2 &amp; 2 &amp; 0 &amp; 3 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; 2 &amp; 2 &amp; 3 &amp; 3 &amp; 2
\end{array}
}
\end{equation*}
</div>
<p class="continuation">There is a nice technique for calculating the Sprague-Grundy values for a game with a tricky subtraction set (like \(2,5,7\)). We use something called a <dfn class="terminology">Grundy scale</dfn>. Intuitively, a Grundy scale is a ruler with tick marks that identify the allowed subtractions. It is pretty easy to calculate the first 7 values of \(S(2,5,7)\text{,}\) so we will pick up our calculation there. Here is the partially filled in table for \(S(2,5,7)\text{:}\)</p>
<p id="p-221"><figure class="figure figure-like" id="fig-sg-subtraction0"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="images/fig-img-sg-subtraction0.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.2.1<span class="period">.</span></span><span class="space"> </span>A Sprague-Grundy scale.</figcaption></figure></p>
<p id="p-222">Below this table is the Grundy scale for \(S(2,5,7)\text{,}\) positioned under the column for \(\pile{7}\text{.}\)  You create the Grundy scale on a separate piece of paper. Starting at the double arrow, we create 3 arrows to the left, at distances 2, 5 and 7.  As shown the double arrow points to 7 and the single arrows point to the followers of \(\pile{7}\text{.}\) This makes it easy to calculate the Sprague Grundy value for \(\pile{7}\text{:}\)</p>
<div class="displaymath">
\begin{equation*}
\g(\pile{7}) = \mex \{ \g(\pile{5}), \g(\pile{2}), \g(\pile{0}) \} = \mex \{ 2, 1, 0 \} = 3.
\end{equation*}
</div>
<p class="continuation">To find \(\g(\pile{8})\text{,}\) we just move our Grundy scale to the right. It's a snap to see that \(\g(\pile{8}) = \mex \{ 1,1,0 \} = 2\text{,}\) and shown below.</p>
<p id="p-223"><figure class="figure figure-like" id="fig-sg-subtraction1"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="images/fig-img-sg-subtraction1.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.2.2<span class="period">.</span></span><span class="space"> </span>Using the Sprague-Grundy scale to find the next value</figcaption></figure></p>
<p id="p-224">We treat a Grundy scale like a ruler: it quickly identifies the Grundy values of the followers. We create the Grundy scale on a separate piece of paper so that we can continue to shift it rightwards, and then  calculate successive Grundy values of Subtraction Games. Hopefully, you can see what the Grundy value for \(\pile{9}\) should be from the following picture. (You can check your calculation against the completed table above.)</p>
<p id="p-225"><figure class="figure figure-like" id="fig-sg-subtraction2"><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="images/fig-img-sg-subtraction2.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.2.3<span class="period">.</span></span><span class="space"> </span>Finding another valuing using the Sprague-Grundy scale.</figcaption></figure></p>
<p id="p-226">At this point, you should be pretty confident that \(\pile{n}\) is  a \(\cP\)-position~if and only if \(\g(\pile{n})=0\text{.}\) We will prove this in the next section.</p>
<p id="p-227">Undoubtedly, you will also have noticed that the Sprague-Grundy values for \(S(1,2,3)\) and \(S(2,3)\) are periodic. The Sprague Grundy values for \(S(2,5,7)\) eventually become periodic as well, thought it takes a little while for them to settle down. In other words, \(S(2,5,7)\) does become periodic if we ignore the first few values. (Keep calculating these values for \(n \geq 22\) to see the pattern that emerges).</p>
<p id="p-228">Our next theorem shows that this is always the case:  every Subtraction Game with a finite subtraction set eventually becomes periodic.</p>
<p id="p-229"><article class="theorem theorem-like" id="theorem-3"><h6 class="heading">
<span class="type">Theorem</span><span class="space"> </span><span class="codenumber">3.2.4</span><span class="period">.</span>
</h6>
<p id="p-230">The Sprague-Grundy values for the subtraction game \(S(s_1, s_2, \ldots , s_k)\) eventually becomes periodic.</p></article></p>
<p id="p-231"><article class="hiddenproof" id="proof-5"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-5"><h6 class="heading"><span class="type">Proof<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-5"><article class="hiddenproof"><p id="p-232">Without loss of generality, we have \(s_1 &lt; s_2 &lt; \cdots &lt; s_k\text{.}\)</p>
<p id="p-233">For \(n \geq s_k\text{,}\) we have</p>
<div class="displaymath">
\begin{equation*}
\g(\pile{n}) = \mex \{ \g(\ppile{n-s_1}),  \g(\ppile{n-s_2}), \ldots , \g(\ppile{n-s_k}) \}.
\end{equation*}
</div>
<p class="continuation">Since there are only \(k\) followers, we have \(\g(\pile{n}) \leq k\text{,}\) with \(\g(\pile{n})=k\) precisely when the followers of \(\pile{n}\) take on the Sprague-Grundy values \(0,1,2,\ldots , k-1\) in some order.</p>
<p id="p-234">Partition \(\W\) into disjoint sets \(B_0, B_1, \ldots, B_m, \ldots\) where \(B_0 = \{ 0, 1, 2, \ldots , s_{k}-1 \}\text{,}\) \(B_1 = \{ s_k, s_k + 1, \ldots, 2 s_k -1 \}\) and in general,</p>
<div class="displaymath">
\begin{equation*}
B_i = \{ i \cdot s_k,  i \cdot s_k + 1, \ldots , (i+1) s_k -1 \}.
\end{equation*}
</div>
<p class="continuation">There are an infinite number of \(B_i\)'s. However, there are  \((k+1)^{s_k}\) possibilities for the sequence of Sprague-Grundy values associated to each \(B_i\text{.}\) This means that these blocks Sprague-Grundy sequences of length \(s_k\) must repeat! In other words, there exists \(i \neq j\) such that  \(B_i = B_j\text{.}\) Furthermore, there must be an infinite number of repeats (because there are only a finite number of possible blocks.</p>
<p id="p-235">Next, we show that as soon as we encounter our first repeated block, we can be sure that the sequence has become periodic. Choose \(i &lt; j\) such that \(B_i=B_j\text{,}\) and this is the first such pair of repeating blocks in the sequence. In other words, setting \(N=i \cdot s_k\) and \(M = j \cdot s_k\) we have</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{rcl}
\g(\pile{M}) &amp;=&amp; \g(\pile{N}),  \\
\g(\ppile{M + 1}) &amp;=&amp; \g(\ppile{N + 1}),  \\
&amp; \vdots &amp; \\
\g(\ppile{M + s_k -1}) &amp;=&amp; \g(\ppile{N + s_k - 1}).
\end{array}
\end{equation*}
</div>
<p class="continuation">But this forces \(\g(\ppile{M + s_k}) = \g(\ppile{N +  s_k}) \) because</p>
<div class="displaymath">
\begin{equation*}
\begin{array}{rcl}
&amp; &amp; \g(\ppile{M +  s_k)}  \\
&amp;=&amp; \mex \{ \g(\ppile{M + s_k - s_1}), \g(\ppile{M +  s_k - s_2}), \ldots , \g(\ppile{M + s_k - s_{k-1})}, \g(\ppile{M} ) \} \\
&amp;=&amp; \mex \{ \g(\ppile{N + s_k - s_1}), \g(\ppile{N +  s_k - s_2}), \ldots , \g(\ppile{N + s_k - s_{k-1}}), \g(\pile{N} ) \} \\
&amp;=&amp; \g(\ppile{N +  s_k})
\end{array}
\end{equation*}
</div>
<p class="continuation">This repetition continues (for the same exact reason). We have \(\g(\ppile{M + s_k+1}) = \g(\ppile{N +  s_k+1}), \) and \(\g(\ppile{M + s_k+2}) = \g(\ppile{N +  s_k+2})\text{,}\) and so on. Therefore, the sequences continue to coincide forever.</p></article></div></p>
<p id="p-236">We make one comment about the above proof. We do successfully prove that the sequence must repeat after a certain point, but our proof does not claim to find the <em class="emphasis">first</em> heap size where the Sprague-Grundy values start to repeat.  We also don't learn much about the actual period of the sequence. The problem: we blindly chose to look at the sequence in huge blocks, regardless of the actually behavior of the sequence. In a sense, we are considering a "worst case scenario," so all we learn is that the period is at most \(M-N= s_k(j-i).\) We can get an upper bound on \(j-i\) using the Pigeonhole Principle, which says that \(j-i \leq (k+1)^{s_k}\text{.}\) Our resulting bound on the period of the Sprague-Grundy values is \(s_k (k+1)^{s_k}\text{,}\) which can be very large indeed.</p></section></div></main>
</div>
</body>
</html>
